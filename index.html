<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>特色代币排行榜</title>
    <style>
        body {
            font-family: 'Segoe UI', 'Arial', sans-serif;
            background: #fafbfc;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }
        .title {
            font-size: 2.2rem;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .subtitle {
            color: #888;
            margin-bottom: 32px;
        }
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 24px;
        }
        .token-card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            padding: 20px 18px 18px 18px;
            display: flex;
            flex-direction: row;
            align-items: center;
            cursor: pointer;
            border: none;
            transition: box-shadow 0.2s;
        }
        .token-card:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }
        .token-img {
            width: 64px;
            height: 64px;
            border-radius: 12px;
            background: #eee;
            margin-right: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #bbb;
        }
        .token-info {
            flex: 1;
        }
        .token-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 4px;
        }
        .token-meta {
            font-size: 0.95rem;
            color: #888;
            margin-bottom: 8px;
        }
        .token-value {
            color: #ff6600;
            font-weight: bold;
            font-size: 1.1rem;
        }
        .token-bar {
            height: 6px;
            background: #f3f3f3;
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }
        .token-bar-inner {
            height: 100%;
            background: linear-gradient(90deg, #ff6600 60%, #ffd580 100%);
            border-radius: 3px;
        }
        @media (max-width: 600px) {
            .card-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">CSKOL 代幣</div>
        <div class="subtitle">目前最熱門的 CSkol 代幣，備受關注。</div>
        <div class="card-grid">
            <button class="token-card" data-ca="0x5w29...">
                <div class="token-img"><img src="1.jpg" alt="UHC" style="width:100%;height:100%;border-radius:12px;"></div>
                <div class="token-info">
                    <div class="token-title">CSnainiu</div>
                    <div class="token-meta">CA: 尚未認領</div>
                    <div class="token-value">尚未認領</div>
                    <div class="token-bar"><div class="token-bar-inner" style="width: 0%"></div></div>
                </div>
            </button>
            <button class="token-card" data-ca="AsCM...">
                <div class="token-img"><img src="2.jpg" alt="ghoul" style="width:100%;height:100%;border-radius:12px;"></div>
                <div class="token-info">
                    <div class="token-title">CSbaolingdeng</div>
                    <div class="token-meta">CA: 尚未認領</div>
                    <div class="token-value">尚未認領</div>
                    <div class="token-bar"><div class="token-bar-inner" style="width: 0%"></div></div>
                </div>
            </button>
            <button class="token-card" data-ca="Asf1...">
                <div class="token-img"><img src="3.jpg" alt="dwildo" style="width:100%;height:100%;border-radius:12px;"></div>
                <div class="token-info">
                    <div class="token-title">CSfacairiji</div>
                    <div class="token-meta">CA: 尚未認領</div>
                    <div class="token-value">尚未認領</div>
                    <div class="token-bar"><div class="token-bar-inner" style="width: 0%"></div></div>
                </div>
            </button>
            <button class="token-card" data-ca="As66...">
                <div class="token-img"><img src="4.jpg" alt="XPeople" style="width:100%;height:100%;border-radius:12px;"></div>
                <div class="token-info">
                    <div class="token-title">CSjingouwajueji</div>
                    <div class="token-meta">CA: 尚未認領</div>
                    <div class="token-value">尚未認領</div>
                    <div class="token-bar"><div class="token-bar-inner" style="width: 0%"></div></div>
                </div>
            </button>
            <button class="token-card" data-ca="As9d...">
                <div class="token-img"><img src="5.jpg" alt="Kisses" style="width:100%;height:100%;border-radius:12px;"></div>
                <div class="token-info">
                    <div class="token-title">CSwickli</div>
                    <div class="token-meta">CA: 尚未認領</div>
                    <div class="token-value">尚未認領</div>
                    <div class="token-bar"><div class="token-bar-inner" style="width: 0%"></div></div>
                </div>
            </button>
            <button class="token-card" data-ca="6th...">
                <div class="token-img"><img src="6.jpg" alt="NewToken" style="width:100%;height:100%;border-radius:12px;"></div>
                <div class="token-info">
                    <div class="token-title">CSenheng</div>
                    <div class="token-meta">CA: 尚未認領</div>
                    <div class="token-value">尚未認領</div>
                    <div class="token-bar"><div class="token-bar-inner" style="width: 0%"></div></div>
                </div>
            </button>
            <button class="token-card" id="add-card-btn" style="font-size:3.5rem;justify-content:center;align-items:center;" type="button">
                <span style="font-size:4rem;color:#ff8000;">+</span>
            </button>
        </div>
    </div>
    <!-- 弹窗 -->
    <div id="popup-modal" style="display:none;position:fixed;z-index:1000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.18);backdrop-filter:blur(2px);align-items:center;justify-content:center;">
        <div id="popup-content" style="background:#fff;border-radius:22px;box-shadow:0 4px 24px rgba(0,0,0,0.18);width:340px;max-width:90vw;padding:28px 18px 24px 18px;position:relative;display:flex;flex-direction:column;align-items:center;">
            <button id="popup-close" style="position:absolute;top:12px;right:12px;background:#ff8000;color:#fff;border:none;border-radius:50%;width:36px;height:36px;font-size:1.3rem;cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,0.08);">X</button>
            <div id="popup-img" style="margin-top:8px;margin-bottom:18px;"></div>
            <div id="popup-title" style="font-size:2rem;font-weight:600;margin-bottom:8px;">伊拉克</div>
            <div id="popup-desc" style="color:#444;font-size:1.08rem;margin-bottom:22px;text-align:center;">此代幣是 CSKOL.fun 代幣生態系統的一部分。</div>
          
            <button style="width:90%;padding:10px 0;border-radius:12px;border:none;background:#ff8000;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;">生成令牌</button>
        </div>
    </div>
    <!-- 二级弹窗 -->
    <div id="token-modal" style="display:none;position:fixed;z-index:2000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.18);backdrop-filter:blur(2px);align-items:center;justify-content:center;">
        <div id="token-content" style="background:#f7f7f7;border-radius:24px;box-shadow:0 4px 24px rgba(0,0,0,0.18);width:520px;max-width:98vw;padding:32px 28px 32px 28px;position:relative;display:flex;flex-direction:column;align-items:center;">
            <button id="token-close" style="position:absolute;top:18px;right:18px;background:#ff8000;color:#fff;border:none;border-radius:50%;width:44px;height:44px;font-size:1.5rem;cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,0.08);">X</button>
            <div style="display:flex;align-items:center;width:100%;margin-bottom:18px;">
                <img src="logo.png" alt="logo" style="width:48px;height:48px;border-radius:12px;background:#fff;margin-right:12px;">
                <span style="font-size:2rem;font-weight:700;color:#222;">生成令牌</span>
            </div>
            <div style="color:#222;font-size:1.08rem;margin-bottom:18px;text-align:left;width:100%;">
                您似乎已準備好創建新的 kol 代幣並擔任其認領者的角色。但請記住，擔任認領者伴隨著重大責任。品牌、治理、人員、行銷……所有這一切。如果你真的確定，那就展示你的實力。
            </div>
            <div style="background:#222;border-radius:20px;width:90%;max-width:400px;margin:0 auto 18px auto;padding:24px 0;display:flex;flex-direction:column;align-items:center;">
                <div id="token-img" style="margin-bottom:12px;"></div>
                <div id="token-name" style="font-size:1.3rem;font-weight:600;color:#ff8000;"></div>
            </div>
            <div style="width:100%;margin-bottom:12px;">
                <div style="font-weight:700;font-size:1.1rem;margin-bottom:4px;">在 Four.meme 上部署</div>
                <div style="color:#222;font-size:1rem;margin-bottom:8px;">要認領令牌並完全控制此 kol，請啟動一個新的 token 並將其命名為 <b>tokenName</b>。您可以選擇任何您喜歡的符號。對於 website 欄位，請使用 <span style='color:#ff8000;font-weight:600;'>https://ceshi-kappa-steel.vercel.app/</span>。我們還建議添加一個 X 社群來幫助您領導您的團隊。</div>
                <div style="background:#ff8000;color:#fff;padding:8px 12px;border-radius:8px;font-size:0.98rem;margin-bottom:8px;">
                    <b>注意：</b>如果您的代幣在 30 分鐘內沒有達到 30K 市值和 30 參與者，您的代幣將被永久刪除，以便另一位認領者可以使用新代幣獲得領導地位。您將被記住為過期的認領者。
                </div>
                <div style="color:#222;font-size:0.98rem;">您一次只能管理一個代幣。但即使您作為認領者失敗了，也不用擔心，您隨時可以重新開始新的 kol 代幣。</div>
            </div>
            <div style="width:100%;display:flex;justify-content:flex-end;gap:16px;">
                <button style="padding:10px 22px;border-radius:12px;border:2px solid #222;background:#fff;font-size:1.1rem;font-weight:500;cursor:pointer;">如何使用？</button>
                <button style="padding:10px 22px;border-radius:12px;border:none;background:#ff8000;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;">立即部署！</button>
            </div>
        </div>
    </div>
    <!-- 进入网站欢迎弹窗 -->
    <div id="welcome-modal" style="display:flex;position:fixed;z-index:3000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.18);backdrop-filter:blur(2px);align-items:center;justify-content:center;">
        <div id="welcome-content" style="background:#ededed;border-radius:28px;box-shadow:0 4px 32px rgba(0,0,0,0.18);width:600px;max-width:98vw;padding:32px 32px 24px 32px;position:relative;display:flex;flex-direction:column;align-items:center;">
            <button id="welcome-close" style="position:absolute;top:18px;right:18px;background:#ff8000;color:#fff;border:none;border-radius:50%;width:44px;height:44px;font-size:1.5rem;cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,0.08);">X</button>
            <div style="display:flex;align-items:center;width:100%;margin-bottom:18px;">
                <img src="logo.png" alt="logo" style="width:54px;height:54px;border-radius:14px;background:#fff;margin-right:14px;">
                <span style="font-size:2.2rem;font-weight:700;color:#222;">歡迎來到 CSKOL.fun！</span>
            </div>
            <div style="width:100%;border-radius:20px;overflow:hidden;margin-bottom:18px;position:relative;">
                <img src="2.png" alt="map" style="width:100%;height:120px;object-fit:cover;background:#222;display:block;">
                <div style="position:absolute;left:50%;top:110px;transform:translateX(-50%);background:#ff8000;border-radius:16px;padding:8px 18px;box-shadow:0 2px 8px rgba(0,0,0,0.10);font-size:1.3rem;font-weight:700;color:#fff;">CSKOL</div>
            </div>
            <div style="color:#222;font-size:1.08rem;margin-bottom:18px;text-align:left;width:100%;">
                每個 memecoin 圈子裡都有自己的 CSkol！無論您是想成為認領者還是投資 CSkol 代幣，這都是一場全面的 CSkol 大戰！
            </div>
            <div style="width:100%;margin-bottom:10px;font-size:1.15rem;font-weight:700;">購買 $CSKOL 代幣</div>
            <div style="width:100%;display:flex;align-items:center;background:#ff8000;border-radius:12px;padding:8px 12px 8px 8px;margin-bottom:14px;">
                <img src="logo.png" alt="logo" style="width:32px;height:32px;border-radius:8px;background:#fff;margin-right:10px;">
                <span style="font-size:1.05rem;color:#fff;font-family:monospace;overflow-x:auto;">4JbAmb23ziB1gTYxkcaqqonwr18yqMtYh7uqDbKZpun</span>
                <span id="welcome-copy" style="margin-left:auto;background:#222;color:#ff8000;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer;">⧉</span>
            </div>
            <div style="color:#222;font-size:1rem;margin-bottom:10px;text-align:left;width:100%;">
                想了解購買平台官方和主要代幣 $CSKOL 的好處，請點擊 $CSKOL 標籤。
            </div>
            <div style="background:#fff3e0;color:#d35400;padding:10px 14px;border-radius:8px;font-size:0.98rem;margin-bottom:10px;width:100%;">
                <b>注意：</b>本平台上的 CSkol 代幣與現實世界的推特博主無關，純粹為娛樂目的而創建。請記住，每個代幣都是由像您一樣的其他訪客創建的，因此請始終負責任地投資。
            </div>
            <div style="color:#222;font-size:0.98rem;margin-bottom:18px;width:100%;">要完全了解 CSKOL.fun 的運作方式、創建新的 CSkol 代幣以及接管現有的 CSkol 代幣，請點擊「指南」部分並探索您需要了解的所有內容。</div>
            <div style="width:100%;display:flex;justify-content:space-between;gap:16px;">
                <button id="welcome-cskol" style="flex:1;padding:10px 0;border-radius:12px;border:2px solid #222;background:#fff;font-size:1.1rem;font-weight:500;cursor:pointer;margin-right:8px;">$CSKOL</button>
                <button id="welcome-help" style="flex:1;padding:10px 0;border-radius:12px;border:2px solid #222;background:#fff;font-size:1.1rem;font-weight:500;cursor:pointer;margin-right:8px;">如何使用？</button>
                <button id="welcome-agree" style="flex:1;padding:10px 0;border-radius:12px;border:none;background:#ff8000;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;">我同意</button>
            </div>
            <div style="width:100%;text-align:center;color:#888;font-size:0.98rem;margin-top:18px;">由 BNB 提供支持。</div>
        </div>
    </div>
    <!-- 如何使用弹窗 -->
    <div id="howto-modal" style="display:none;position:fixed;z-index:3500;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.18);backdrop-filter:blur(2px);align-items:center;justify-content:center;">
        <div id="howto-content" style="background:#ededed;border-radius:28px;box-shadow:0 4px 32px rgba(0,0,0,0.18);width:700px;max-width:98vw;padding:32px 32px 24px 32px;position:relative;display:flex;flex-direction:column;align-items:center;">
            <button id="howto-close" style="position:absolute;top:18px;right:18px;background:#ff8000;color:#fff;border:none;border-radius:50%;width:44px;height:44px;font-size:1.5rem;cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,0.08);">X</button>
            <div style="display:flex;align-items:center;width:100%;margin-bottom:18px;">
                <img src="logo.png" alt="logo" style="width:54px;height:54px;border-radius:14px;background:#fff;margin-right:14px;">
                <span style="font-size:2.2rem;font-weight:700;color:#222;">如何使用 CSKOL.fun？</span>
            </div>
            <div style="color:#222;font-size:1.13rem;margin-bottom:18px;text-align:left;width:100%;">
                使用 CSKOL.fun 平台非常簡單。如果您是一位技術嫻熟且敬業的開發人員，您可以創建一個新的 CSkol 代幣，認領一個模擬 kol，建立社群，並將您的代幣帶入全面的 CSkol 大戰。<br><br>
                如果您是投資者，您可以加入並管理運營良好的 kol 代幣，持有其資產，並參與全球活動和投資機會。
            </div>
            <div style="width:100%;border-radius:20px;overflow:hidden;margin-bottom:18px;position:relative;">
                <img src="2.png" alt="map" style="width:100%;height:180px;object-fit:cover;background:#222;display:block;">
            </div>
            <div style="color:#222;font-size:1.08rem;margin-bottom:18px;text-align:left;width:100%;">
                如果您是開發人員，您只需點擊一個尚未被認領或正在等待認領者的 kol，然後點擊「生成令牌」按鈕。然後，按照資訊頁面的說明在 Four.meme 上啟動新令牌。<br><br>
                例如，要為中國創建 CSkol 代幣，只需在 Four.meme 上啟動一個令牌，令牌名稱為 CS+kol 名稱，網站名稱為 https://ceshi-kappa-steel.vercel.app/。<b>就是這樣，您現在是某個 CSkol 的認領者了！</b>
            </div>
            
            <div style="width:100%;text-align:center;color:#888;font-size:0.98rem;margin-top:18px;">由 BNB 提供支持。</div>
        </div>
    </div>
    <!-- 新增卡片弹窗 -->
    <div id="add-card-modal" style="display:none;position:fixed;z-index:4000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.18);backdrop-filter:blur(2px);align-items:center;justify-content:center;">
        <div id="add-card-content" style="background:#fff;border-radius:22px;box-shadow:0 4px 24px rgba(0,0,0,0.18);width:350px;max-width:95vw;padding:32px 24px 24px 24px;position:relative;display:flex;flex-direction:column;align-items:center;">
            <button id="add-card-close" style="position:absolute;top:12px;right:12px;background:#ff8000;color:#fff;border:none;border-radius:50%;width:36px;height:36px;font-size:1.3rem;cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,0.08);">X</button>
            <div style="font-size:1.4rem;font-weight:600;margin-bottom:18px;">新增 KOL</div>
            <form id="add-card-form" style="width:100%;display:flex;flex-direction:column;align-items:center;gap:16px;">
                <label style="width:100%;text-align:left;font-size:1rem;">頭像上傳
                    <input type="file" id="add-avatar" accept="image/*" style="display:block;margin-top:6px;">
                </label>
                <label style="width:100%;text-align:left;font-size:1rem;">推特連結
                    <input type="url" id="add-twitter" placeholder="https://twitter.com/xxx" style="width:100%;padding:6px 8px;border-radius:8px;border:1px solid #ccc;margin-top:6px;">
                </label>
                <label style="width:100%;text-align:left;font-size:1rem;">主要事蹟
                    <textarea id="add-desc" rows="3" placeholder="請輸入主要事蹟" style="width:100%;padding:6px 8px;border-radius:8px;border:1px solid #ccc;margin-top:6px;"></textarea>
                </label>
                <button id="add-card-submit" type="submit" style="width:100%;padding:10px 0;border-radius:12px;border:none;background:#ff8000;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;">確定</button>
            </form>
            <div id="add-card-wait" style="display:none;font-size:1.2rem;color:#ff8000;margin-top:18px;">等待審核...</div>
        </div>
    </div>
    <script>
    // 自动获取并渲染卡片代币信息
    async function updateTokenCards() {
        const cards = document.querySelectorAll('.token-card');
        for (const card of cards) {
            const ca = card.getAttribute('data-ca');
            if (!ca) continue;
            try {
                const res = await fetch(`https://api.dexscreener.com/latest/dex/tokens/${ca}`);
                const data = await res.json();
                if (data && data.pairs && data.pairs[0]) {
                    const info = data.pairs[0].baseToken;
                    // 名称
                    card.querySelector('.token-title').innerText = info.name || info.symbol || 'Unknown';
                    // logo
                    if (info.logoURI) {
                        card.querySelector('.token-img').innerHTML = `<img src="${info.logoURI}" alt="logo" style="width:100%;height:100%;border-radius:12px;">`;
                    }
                    // 市值
                    const fdv = data.pairs[0].fdv;
                    if (fdv) {
                        card.querySelector('.token-value').innerText = `Market Cap: $${(fdv/1000).toFixed(1)}K`;
                    }
                }
            } catch (e) {
                // 可选：显示加载失败
            }
        }
    }
    updateTokenCards();
    // 监听所有卡片按钮
    document.querySelectorAll('.token-card').forEach(btn => {
        btn.addEventListener('click', function() {
            // 获取卡片上的代币名字
            var tokenName = btn.querySelector('.token-title').innerText;
            document.getElementById('popup-title').innerText = tokenName;
            // 获取卡片头像
            var imgDiv = btn.querySelector('.token-img');
            var imgTag = imgDiv.querySelector('img');
            var popupImgHtml = '';
            if(imgTag) {
                popupImgHtml = '<img src="'+imgTag.src+'" alt="logo" style="width:90px;height:90px;border-radius:18px;background:#fff;">';
            } else {
                popupImgHtml = '<div style="width:90px;height:90px;border-radius:18px;background:#fff;display:flex;align-items:center;justify-content:center;font-size:3rem;color:#ff8000;font-weight:700;">'+imgDiv.textContent.trim().charAt(0)+'</div>';
            }
            document.getElementById('popup-img').innerHTML = popupImgHtml;
            // 存储到window，供生成令牌弹窗用
            window._currentToken = {
                name: tokenName,
                imgHtml: popupImgHtml
            };
            document.getElementById('popup-modal').style.display = 'flex';
        });
    });
    // 关闭弹窗
    document.getElementById('popup-close').onclick = function() {
        document.getElementById('popup-modal').style.display = 'none';
    };
    // 点击遮罩关闭弹窗（可选）
    document.getElementById('popup-modal').addEventListener('click', function(e) {
        if (e.target === this) this.style.display = 'none';
    });
    // 监听生成令牌按钮
    document.querySelector('#popup-content button:last-child').onclick = function() {
        var token = window._currentToken || {name:'',imgHtml:''};
        document.getElementById('token-name').innerText = token.name;
        document.getElementById('token-img').innerHTML = token.imgHtml;
        document.getElementById('token-modal').style.display = 'flex';
    };
    // 关闭二级弹窗
    document.getElementById('token-close').onclick = function() {
        document.getElementById('token-modal').style.display = 'none';
    };
    // 点击遮罩关闭二级弹窗
    document.getElementById('token-modal').addEventListener('click', function(e) {
        if (e.target === this) this.style.display = 'none';
    });
    // 监听立即部署按钮
    document.querySelector('#token-content button:last-child').onclick = function() {
        window.open('https://four.meme/zh-TW', '_blank');
    };
    // 欢迎弹窗关闭
    document.getElementById('welcome-close').onclick = function() {
        document.getElementById('welcome-modal').style.display = 'none';
    };
    document.getElementById('welcome-agree').onclick = function() {
        document.getElementById('welcome-modal').style.display = 'none';
    };
    // 复制合约地址
    document.getElementById('welcome-copy').onclick = function() {
        navigator.clipboard.writeText('4JbAmb23ziB1gTYxkcaqqonwr18yqMtYh7uqDbKZpun');
        this.innerText = '✔';
        setTimeout(()=>{this.innerText='⧉';}, 1200);
    };
    // $CSKOL按钮跳转
    document.getElementById('welcome-cskol').onclick = function() {
        window.open('https://four.meme/zh-TW', '_blank');
    };
    // 如何使用按钮
    document.getElementById('welcome-help').onclick = function() {
        document.getElementById('howto-modal').style.display = 'flex';
    };
    // 如何使用弹窗关闭
    document.getElementById('howto-close').onclick = function() {
        document.getElementById('howto-modal').style.display = 'none';
    };
    // 所有"如何使用？"按钮弹出该弹窗
    document.querySelectorAll('button').forEach(btn => {
        if(btn.innerText && btn.innerText.replace(/\s/g,'') === '如何使用？'){
            btn.onclick = function(){ document.getElementById('howto-modal').style.display = 'flex'; };
        }
    });
    // Listen for Download Token Logo button click to download the current avatar
    document.querySelectorAll('button').forEach(btn => {
        if(btn.innerText && btn.innerText.replace(/\s/g,'') === 'DownloadTokenLogo(optional)'){
            btn.onclick = function() {
                var img = document.querySelector('#token-img img');
                if(img && img.src) {
                    var a = document.createElement('a');
                    a.href = img.src;
                    a.download = 'token-logo.png';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                } else {
                    alert('No available avatar image');
                }
            }
        }
    });
    // 新增卡片弹窗逻辑
    document.getElementById('add-card-btn').onclick = function() {
        document.getElementById('add-card-modal').style.display = 'flex';
    };
    document.getElementById('add-card-close').onclick = function() {
        document.getElementById('add-card-modal').style.display = 'none';
        document.getElementById('add-card-form').style.display = '';
        document.getElementById('add-card-wait').style.display = 'none';
    };
    document.getElementById('add-card-form').onsubmit = function(e) {
        e.preventDefault();
        document.getElementById('add-card-form').style.display = 'none';
        document.getElementById('add-card-wait').style.display = 'block';
    };
    // 点击遮罩关闭弹窗
    document.getElementById('add-card-modal').addEventListener('click', function(e) {
        if (e.target === this) {
            document.getElementById('add-card-modal').style.display = 'none';
            document.getElementById('add-card-form').style.display = '';
            document.getElementById('add-card-wait').style.display = 'none';
        }
    });
    </script>
</body>
</html>
